<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout - AntiqCart</title>
    <link rel="stylesheet" href="gotocheckout.css">
</head>
<body>
    <header>
        <h1 class="checkout-title">AntiqCart - Checkout</h1>
    </header>
    <main class="checkout-container">
        <!-- Order Summary -->
        <section class="order-summary">
            <h2>Order Summary</h2>
            <div class="order-items">
                <!-- Items will be dynamically added here -->
            </div>
            <div class="order-total">
                <p>Total Cost: <span id="order-total-cost">0</span> USD</p>
            </div>
        </section>

        <!-- User Information -->
        <section class="user-info">
            <h2>Shipping Details</h2>
            <form id="checkout-form">
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input type="text" id="name" name="name" placeholder="Enter your full name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label for="address">Shipping Address</label>
                    <textarea id="address" name="address" placeholder="Enter your shipping address" required></textarea>
                </div>
                <div class="form-group">
                    <label for="payment">Payment Method</label>
                    <select id="payment" name="payment" required>
                        <option value="credit-card">Credit Card</option>
                        <option value="paypal">PayPal</option>
                        <option value="cod">Cash on Delivery</option>
                    </select>
                </div>
                <button type="submit" class="submit-btn">Place Order</button>
            </form>
        </section>
    </main>

    <script>
        // Retrieve cart data from localStorage
const savedCartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
const savedTotalCost = localStorage.getItem('totalCost') || 0;

// Populate the order summary
const orderItemsContainer = document.querySelector('.order-items');
const totalCostElement = document.getElementById('order-total-cost');

if (savedCartItems.length > 0) {
    savedCartItems.forEach(item => {
        const itemElement = document.createElement('div');
        itemElement.className = 'order-item';
        itemElement.innerHTML = `<p>${item.name} - $${item.price}</p>`;
        orderItemsContainer.appendChild(itemElement);
    });
} else {
    orderItemsContainer.innerHTML = '<p>Your cart is empty.</p>';
}

totalCostElement.textContent = savedTotalCost;

// Handle form submission
const checkoutForm = document.getElementById('checkout-form');
checkoutForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const formData = new FormData(checkoutForm);
    const userDetails = Object.fromEntries(formData.entries());
    alert('Thank you for your order!\n\n' + JSON.stringify(userDetails, null, 2));

    // Clear cart data from localStorage after order submission
    localStorage.removeItem('cartItems');
    localStorage.removeItem('totalCost');

    // Optionally redirect to a confirmation page
    window.location.href = 'confirmation.html';
});
        
    </script>
</body>
</html>